---
title: '관리되는 저장소: Exchange 2013 Help'
TOCTitle: 관리되는 저장소
ms:assetid: efdaf80b-335c-491c-8eb5-1fafd297e8a2
ms:mtpsurl: https://technet.microsoft.com/ko-kr/library/Dn792020(v=EXCHG.150)
ms:contentKeyID: 62607042
ms.date: 05/22/2018
mtps_version: v=EXCHG.150
ms.translationtype: MT
---

# 관리되는 저장소

 

_**적용 대상:**Exchange Server 2013_

_**마지막으로 수정된 항목:**2014-07-14_

모든 이전 버전의 Exchange Server 2010을 Exchange Server 4.0에서의 Exchange Server 지원 되는 정보 저장소 프로세스 (Store.exe)의 단일 인스턴스를 실행 중인 사서함 서버 역할에 있습니다. 서버의 모든 데이터베이스를 호스트 하는이 단일 저장소 인스턴스: 활성, 수동, 지연, 하 고 복구 합니다. 이전 Exchange 아키텍처에 있는 경우에 거의 격리 사서함 서버에서 호스팅되는 다른 데이터베이스는 없습니다. 단일 사서함 데이터베이스에 문제가 발생은 절감할 수 있는 다른 모든 데이터베이스를 부정적인 영향을 주려면 및 사서함 손상에서 발생 하는 작동 중단 해당 데이터베이스를 서버에서 호스팅되는 모든 사용자에 대 한 서비스에 영향을 줄 수 있습니다.

이전 버전의 Exchange에서 단일 저장소 인스턴스를 다른 시도 8-12 프로세서 코어에 적합 하지만 그 외에도 배율을 조정 하는 확장 가능한 저장소 엔진 (ESE), 프로세서 간 통신 및 캐시 동기화 문제 음수 수평 잠재 고객은입니다. 오늘날의 지정 된 시스템과 16 + 코어를 사용할 수 있는 훨씬 더 큰 서버가 구성이 부과 ESE에 대 한 8-12 개 코어의 선호도 관리 하 고 다른 코어를 사용 하 여 비 저장소 프로세스 (예를들어, 비서, Search Foundation, 관리 되는 가용성 등)에 대 한의 관리 과제를 해결 합니다. 또한 이전 아키텍처 수직 확장 하는 저장소 프로세스에 대 한 제한 됩니다.

Store.exe 프로세스 발전 함에 따라 자체 Exchange 서버로 년 동안 훨씬 왔습니다 하지만 단일 프로세스로 궁극적으로 줄어들지만 확장성 제한 되 고 단일 오류 지점을 나타냅니다. 이러한 제한으로 인해 Store.exe 늘어 Exchange 2013 이며 관리 되는 저장소도 대체 합니다.

## 관리되는 저장소

관리 되는 저장소 정보 저장소 (명시적 저장소) 처리 Exchange Server 2013에 대 한 이름입니다. 관리 되는 저장소는 저장소 프로세스 격리 하 고 더 빠른 데이터베이스 장애 조치를 제공 하는 컨트롤러/작업자 프로세스 모델을 사용 합니다. 관리 되는 저장소에는 이전 버전의 Exchange Server에서 동적 버퍼 알고리즘을 대체 하는 메커니즘 캐싱 (영문)를 새 고정 데이터베이스도 포함 됩니다. 관리 되는 저장소에서 사용 하 여 다중 프로세스 모델에서 됩니다 (이 경우에 명시적 MSExchangeIS Microsoft.Exchange.Store.Service.exe), 단일 저장소 서비스 컨트롤러 프로세스 및 각 탑재 된 데이터베이스에 대 한 (이 경우 Microsoft.Exchange.Store.Worker.exe)에 하나의 작업자 프로세스입니다. 데이터베이스가 탑재 되는 경우 해당 데이터베이스에만 처리 하는 새 작업자 프로세스가 인스턴스화됩니다. 데이터베이스를 분리 하는 경우 해당 데이터베이스에 대 한 작업자 프로세스를 종료 됩니다.

예, 40 데이터베이스 서버에 탑재 된 경우에 각 데이터베이스의 경우와 저장소 서비스 프로세스 컨트롤러에 대 한 관리 되는 저장소에 대 한 실행 중인 41 프로세스 됩니다.

저장소 서비스 프로세스 컨트롤러 매우 얇은 하 고 매우 안정적 이지만, 죽 되거나 종료 되는 경우 다음을 다이 모든 작업자 프로세스 (됩니다 감지 서비스 컨트롤러 프로세스가 사라졌는지 확인 하 고 종료). 저장소 프로세스 컨트롤러 서버에서 모든 저장소 작업자 프로세스의 상태를 모니터링 합니다. 모든 활성 데이터베이스 복사본의는 즉시 장애 조치를 설정 하는 강제적인 또는 예기치 않은 종료는 Microsoft.Exchange.Store.Service.exe입니다. 관리 되는 저장소는 Microsoft Exchange Replication service (MSExchangeRepl.exe) 및 활성 관리자와도 긴밀 하 게 통합 됩니다. 컨트롤러 프로세스, 작업자 프로세스 및 복제 서비스 가용성과 안정성을 높이도록 함께 작동 합니다.

  - Microsoft Exchange Replication service 프로세스 (MSExchangeRepl.exe)
    
      - 발급 하는 작업을 담당 탑재 및 분리 저장소에 대 한 작업
    
      - 저장소, 확장 가능한 저장소 엔진 (ESE) 및 관리 되는 가용성 응답자에서 보고 하는 저장소 또는 데이터베이스 오류 시 복구 작업을 시작 합니다.
    
      - 예기치 않은 데이터베이스 오류를 검색합니다.
    
      - 관리 작업에 대 한 관리 인터페이스를 제공합니다.

  - 저장소 서비스 프로세스/컨트롤러 (Microsoft.Exchange.Store.Service.exe)
    
      - 복제 서비스에서 받은 탑재 및 분리 작업에 따라 각 작업자 프로세스 수명 관리
    
      - Windows 서비스 제어 관리자 로부터 들어오는 요청을 처리
    
      - 로그 저장소 작업자 프로세스 문제 (예: 중단 또는 예기치 않은 종료)를 감지 하는 경우에 오류 항목
    
      - 응답 장애 조치 이벤트의 저장소 작업자 프로세스를 종료합니다.

  - 작업자 프로세스 (Microsoft.Exchange.Store.Worker.exe)를 저장 합니다.
    
      - 데이터베이스에서 사서함에 대 한 RPC 작업을 실행 하는 일을 담당
    
      - 작업자 프로세스 내에서 RPC 끝점 인스턴스는 데이터베이스 GUID
    
      - 데이터베이스에 대 한 데이터베이스 캐시를 제공합니다.

## 정적 데이터베이스 캐싱 알고리즘

동적 버퍼 할당 된 도입 Exchange Server 5.5와 정보 저장소에서 사용 되는 대로 알려진 데이터베이스 캐싱 알고리즘 Exchange 2000 Server, Exchange Server 2003, Exchange Server 2007 및 Exchange Server 2010 이기도 Exchange 2013에서 사라졌는지 확인 합니다. Exchange 2013 데이터베이스 캐시를 결정 하기 위한 매우 간단 하 고 간단한 알고리즘을 사용 합니다. 관리 되는 저장소에는 크게 내부 캐시 관리를 간소화 하는 장애 조치 발생 하는 경우 데이터베이스 간에 캐시 더이상 동적으로 다시 할당 합니다. 대신, 각 데이터베이스 캐시 (예: 각 저장소 작업자 프로세스)에 대 한 할당 된 메모리는 구성 하는 경우 로컬 데이터베이스 복사본의 수 및 *MaximumActiveDatabases*값에 기반 합니다. *MaximumActiveDatabases* 값 현재 데이터베이스 복사본의 번호 보다 크면 캐시 계산은 데이터베이스 복사본의 수에 기반 합니다.

Exchange 2013에서 사용 하는 정적 알고리즘 실제 RAM에 따라 각 저장소 작업자 프로세스 ESE 캐시에 대 한 메모리를 할당 합니다. 이것은 데이터베이스의 *최대 캐시 대상*이라고 합니다. 총 서버 메모리의 25 %ESE 캐시에 할당 됩니다. 이것은 *서버 캐시 크기 대상*이라고 합니다.


> [!NOTE]
> 서버 캐시 크기 대상 및 ESE 캐시에 대 한 저장소에 할당 된 메모리 양을 <EM>InformationStore</EM> 개체의 <EM>msExchESEParamCacheSizeMax</EM> 특성을 사용 하 여 Active Directory (구성 된 값부터 32KB 모든 저장소 프로세스를 할당 하는 페이지 수가)에서 재정의할 수 있습니다.



활성 및 수동 복사본에 할당 되는이 캐시의 정적 양입니다. 저장소 작업자 프로세스 활성 데이터베이스 복사본을 처리 하는 경우에 최대 캐시 대상 할당 됩니다. 수동 데이터베이스 복사본에는 최대 캐시 대상의 20% 할당 됩니다. 나머지는 저장소에서 예약 된 이며 활성 상태로 패시브에서 데이터베이스를 전환 하는 경우 작업자 프로세스에 할당 합니다.

최대 캐시 대상 저장소를 시작할 때만 계산 됩니다. 따라서을 추가 하거나 데이터베이스 또는 데이터베이스 복사본을 제거 하는 경우 캐시를 적절 하 게 조정할 수 있도록 저장소 컨트롤러 서비스 (MSExchangeIS)을 다시 시작 해야 합니다. 서비스는 하지를 다시 시작한 다음 새로 만든 데이터베이스 서비스를 시작 하는 이전 버전에서 만든 데이터베이스 보다 더 작은 캐시 크기 대상을 갖습니다. 이 이벤트에서 데이터베이스 캐시 크기 목표의 합 너무 많을 서버 캐시 크기 대상 MSExchangeIS 다시 시작 해야 합니다.

## 예제 데이터베이스 캐시 계산

다음은 예제 데이터베이스 캐싱 (영문) 사서함 서버의 메모리 및 데이터베이스 구성을 기반으로 계산 합니다.

**예제 1**

이 예제에서는 사서함 서버에는 48GB 메모리의 하 고 두 활성 데이터베이스 및 수동 두 데이터베이스를 호스트 합니다. 또한 *MaximumActiveDatabases* 매개 변수는 구성 되지 않았습니다. 이 구성에서 데이터베이스 캐시 양은 각 활성 데이터베이스 복사본 작업자 프로세스에 대 한 3GB 및 각 수동 데이터베이스 복사본 작업자 프로세스에 대 한 0.6 g B입니다. 이러한 값 확인 된 어떻게 다음과 같습니다.

서버 캐시 크기 대상을 가져오려면 메모리를 양을 25% 곱하십시오.

48 G B X 25 %12GB =

데이터베이스 최대 캐시 대상을 얻으려면 서버 캐시 크기 대상 활성 및 수동 데이터베이스의 총 나눕니다.

12GB 4 / 데이터베이스 /3GB =

수동 데이터베이스 복사본에 사용 되는 메모리 양을 확인 하려면 데이터베이스 최대 캐시 대상 20% 곱하십시오.

3 GB X 20% = 0.6 G B

12GB 서버 캐시 크기 대상에 할당 된 메모리의 부족 7.2 GB 데이터베이스 작업자 프로세스에서 사용 되 고 있는 됩니다 및 활성 복사본을 계속 하는 경우 두 수동 데이터베이스 복사본에 대 한 정보 저장소에 의해 4.8 g B를 예약 됩니다. 이벤트에 3GB의 최대 캐시 대상 자신의 사용.

**예제 2**

이 예제에서는 사서함 서버는도 48GB 메모리 및 호스트 두 활성 데이터베이스 및 두 수동 데이터베이스입니다. 그러나 *MaximumActiveDatabases* 매개 변수 값이 2로 구성 됩니다. 이 구성에서 데이터베이스 캐시 양은 각 활성 데이터베이스 복사본 작업자 프로세스에 대 한 5GB 및 각 수동 데이터베이스 복사본 작업자 프로세스에 대 한 0.2 g B입니다. 이러한 값 확인 된 어떻게 다음과 같습니다.

서버 캐시 크기 대상을 가져오려면 메모리를 양을 25% 곱하십시오.

48 G B X 25 %12GB =

데이터베이스 최대 캐시 대상을 가져오려면 20%를 곱한 수동 데이터베이스의 총 수를 더한 활성 데이터베이스의 총 하 여 서버 캐시 크기 대상 나눕니다.

12GB / (2A + (2 P X 20 %)) = 5GB

수동 데이터베이스 복사본에 사용 되는 메모리 양을 확인 하려면 데이터베이스 최대 캐시 대상 20% 곱하십시오.

5 GB X 20% = 1GB

12GB 서버 캐시 크기 대상에 할당 된 메모리의 로그 아웃 12GB 데이터베이스 작업자 프로세스에서 사용 되 고 있는 되며가 (것 이므로 *MaximumActiveDatabases* 2의 값으로 구성 된 서버에서 2 활성 데이터베이스 복사본 이미는)이이 구성에서 활성 복사본 될 수 없습니다 때문에 두 수동 데이터베이스 복사본에 대 한 정보 저장소에 의해 없는 메모리를 예약 됩니다.

