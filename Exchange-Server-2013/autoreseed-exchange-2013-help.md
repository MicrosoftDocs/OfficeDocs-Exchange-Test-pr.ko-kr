---
title: 'AutoReseed: Exchange 2013 Help'
TOCTitle: AutoReseed
ms:assetid: 61f9a8be-070e-4c62-b505-52644fcff0c5
ms:mtpsurl: https://technet.microsoft.com/ko-kr/library/Dn789209(v=EXCHG.150)
ms:contentKeyID: 62523781
ms.date: 05/22/2018
mtps_version: v=EXCHG.150
ms.translationtype: MT
---

# AutoReseed

 

_**적용 대상:**Exchange Server 2013 SP1_

_**마지막으로 수정된 항목:**2015-03-09_

자동 다시 시드 또는 자동 다시 시드를은 란 디스크 오류, 데이터베이스 손상 이벤트 또는 데이터베이스 복사본의 다시 시드를이 필요 하는 다른 문제에 대 한 응답에 일반적으로 관리자 기반 작업에 대 한 대체 되는 기능입니다. 자동 다시 시드는 자동으로 시스템에서 프로 비전 된 여분의 디스크를 사용 하 여 디스크 오류가 발생 한 후 데이터베이스 중복을 복원 하도록 설계 되었습니다.

## AutoReseed 개요

AutoReseed 구성에서는 표준화된 저장소 표시 구조가 사용되며 관리자가 시작 지점을 선택합니다. AutoReseed 기능은 드라이브에 오류가 발생할 경우 가능한 한 즉시 중복성을 복원합니다. 이 과정에서 일련의 볼륨(예비 볼륨 포함) 및 데이터베이스가 탑재 지점을 사용하여 미리 매핑됩니다. 디스크 오류로 인해 운영 체제에서 디스크를 더 이상 사용할 수 없거나 디스크에 쓸 수 없게 될 경우 시스템에 의해 예비 볼륨이 할당되며 영향을 받는 데이터베이스 복사본은 자동으로 다시 시드됩니다.

1.  Microsoft Exchange 복제 서비스는 FailedAndSuspended 상태인 복사본을 정기적으로 검색 합니다. AutoReseed에 대해 구성 된 볼륨에 모든 데이터베이스 복사본은 FailedandSuspended 상태 15 연속 된 시간 (분), 자동 다시 시드 워크플로 시작 합니다.

2.  자동 다시 시드 각 시도 시점을 5 분 절전 모드와 최대 3 회 실패 하 고 일시 중단 된 복사본을 다시 시도 합니다. 경우에 따라 FailedandSuspended 데이터베이스 복사본을 다시 시작 된 후의 복사본이 Failed 상태에서 유지 됩니다. 이 오류가 발생 하는 다양 한 이유로,이 단계는 이러한 경우; 처리 하도록 설계 되므로 자동 다시 시드를 실행 중인 워크플로 변경 하지 않으려면 연속 된 10 분동안 실패 하는 데이터베이스 복사본을 일시 중단 자동으로 됩니다. 워크플로 계속 하는 경우 일시 중단 및 다시 시작 작업 될 때 정상 데이터베이스 복사본을 합니다.

3.  해당 상태와 복사본을 발견 하는 경우 일부 필수 구성 요소 확인을 수행 합니다. 예, 예비 디스크를 사용할 수 있는지, 데이터베이스 및 해당 로그 파일 같은 볼륨에 하 고 필요한 명명 규칙에 맞는 적절 한 위치에 구성 된 확인 합니다.

4.  필수 구성 요소를 확인 하는 경우를 통과 하면 Microsoft Exchange Replication service 내의 함수 할당을 다시 매핑합니다 하 고 아래 표에서 일정에 따라 예비 디스크 서식을 설정 하는 디스크 Reclaimer 합니다. 자동 다시 시드는 1 시간 대기한 각 try 시점으로 최대 5 배 예비 볼륨을 할당 하려고 합니다.

5.  예비 볼륨을 할당 한 후 자동 다시 시드 스위치 시드 SafeDeleteExistingFiles를 사용 하 여 InPlaceSeed 작업을 수행 합니다. 영향을 받는 디스크에 배치 된 모든 데이터베이스는 데이터베이스의 활성 복사본 시드 원본으로 사용 하 여 다시 시드 됩니다.

6.  시드 작업이 완료된 후 Microsoft Exchange Replication Service는 새로 시드된 복사본의 상태가 정상인지 확인합니다.

모든 다시 시도 소진 되 면 워크플로 중지 합니다. 3 일이 지난 후 데이터베이스 복사본은 여전히 FailedandSuspended, 하는 경우에 워크플로 상태를 재설정 하 고 1 단계에서에서 다시 시작 합니다. 이 재설정/다시 시작 동작 이며 유용한 (의도적인) 이후 실패 한 디스크, 컨트롤러 등을 교체 하는 몇 일이 걸릴 수 있습니다.

오류가 디스크에서 발생했다면 운영자나 관리자가 이때 직접 개입하여 해당 디스크를 제거하고 교체한 다음 교체용 디스크를 예비 디스크로 다시 구성해야 합니다.

AutoReseed는 DAG의 세 가지 속성을 사용하여 구성됩니다. 속성 중 두 가지는 사용 중인 2개의 탑재 지점을 나타냅니다. Exchange 2013에서는 Windows Server가 볼륨당 여러 탑재 지점을 허용한다는 사실을 활용합니다. *AutoDagVolumesRootFolderPath* 속성은 사용 가능한 모든 볼륨이 포함된 탑재 지점을 나타냅니다. 여기에는 데이터베이스를 호스트하는 볼륨과 예비 볼륨이 포함됩니다. *AutoDagDatabasesRootFolderPath* 속성은 데이터베이스가 포함된 탑재 지점을 나타냅니다. 세 번째 DAG 속성인 *AutoDagDatabaseCopiesPerVolume*은 볼륨당 데이터베이스 복사본 수를 구성하는 데 사용됩니다.

아래 예에서는 AutoReseed 구성을 보여 줍니다.

**AutoReseed 구성 예**

![자동 시드 구성 예제](images/Dn789209.e3af7306-f5b4-4ec4-9ccf-222ec452699b(EXCHG.150).gif "자동 시드 구성 예제")

이 예에서는 세 개의 볼륨이 있으며, 그 중 두 볼륨에는 데이터베이스(VOL1 및 VOL2)가 있고 한 볼륨에는 포맷된 빈 예비 볼륨(VOL3)이 있습니다.

AutoReseed를 구성하려면

1.  세 개의 볼륨을 모두 단일 탑재 지점에 탑재합니다. 이 예에서는 C:\\ExchVols의 탑재 지점이 사용됩니다. 이 위치는 Exchange 데이터베이스의 저장소를 가져오는 데 사용되는 디렉터리를 나타냅니다.

2.  사서함 데이터베이스의 루트 디렉터리는 또 다른 탑재 지점으로 탑재됩니다. 이 예에서는 C:\\ExchDBs의 탑재 지점이 사용됩니다. 다음으로, 부모 디렉터리가 만들어지고 그 아래에 두 개의 하위 디렉터리(데이터베이스 파일용 하나와 로그 파일용 디렉터리 하나)가 만들어지는 방식으로 디렉터리 구조가 만들어집니다.

3.  데이터베이스가 만들어집니다. 위의 예에서는 볼륨당 단일 데이터베이스를 사용한 단순한 디자인을 보여 줍니다. 따라서 VOL1에는 총 3개의 디렉터리, 즉 부모 디렉터리와 두 개의 하위 디렉터리(MDB1의 데이터베이스 파일용과 로그용 각각 하나)가 있습니다. 예 이미지에 나타나 있지는 않지만 VOL2에도 부모 디렉터리와 그 아래에 MDB2의 데이터베이스 파일용 디렉터리 하나 및 로그 파일용 디렉터리 하나 등 총 3개의 디렉터리가 있습니다.

이 구성에서 MDB1 또는 MDB2에 오류가 발생할 경우 자동으로 해당 오류 데이터베이스의 복사본이 VOL3에 다시 시드됩니다.

## Disk Reclaimer

예비 디스크를 할당하고 포맷하는 AutoReseed 구성 요소를 *Disk Reclaimer*라고 부릅니다. Disk Reclaimer 구성 요소는 디스크의 상태에 따라 다른 간격으로 AutoReseed를 준비하면서 예비 디스크를 자동으로 포맷합니다. Disk Reclaimer가 디스크를 포맷하기 위해서는 특정 조건이 충족되어야 합니다.

  - Disk Reclaimer가 사용되도록 설정되어야 합니다. 이 기능은 기본적으로 사용 가능하게 설정되어 있지만 [Set-DatabaseAvailabilityGroup](https://technet.microsoft.com/ko-kr/library/dd297934\(v=exchg.150\))을 사용하여 사용하지 않도록 설정할 수 있습니다.

  - 볼륨의 루트 볼륨 경로(기본적으로 C:\\ExchangeVolumes)에는 탑재 지점이 있어야 합니다.

  - 볼륨의 데이터베이스 볼륨 경로(기본적으로 C:\\ExchangeDatabases)에는 탑재 지점이 없어야 합니다.

  - 볼륨에 파일이 들어 있으면 24시간 동안 어떤 파일도 건드리지 않았어야 합니다.

위의 조건 외에도 Disk Reclaimer는 지정된 볼륨을 하루에 한 번만 포맷하려고 합니다. 다음 표에서는 Disk Reclaimer의 포맷 동작을 설명합니다.


<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>디스크 및 데이터베이스 사본의 상태</th>
<th>포맷 간격</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>디스크가 포맷되지 않았거나, 포맷되었지만 비어 있거나, 포맷되었지만 24시간 동안 건드리지 않은 파일을 포함하며 로컬 Active Directory 사이트에 시드 원본으로 사용할 수 있는 정상 상태의 활성 데이터베이스가 있습니다.</p></td>
<td><p>1일</p></td>
</tr>
<tr class="even">
<td><p>디스크가 포맷되지 않았거나, 포맷되었지만 비어 있거나, 포맷되었지만 24시간 동안 건드리지 않은 파일을 포함하지만 로컬 Active Directory 사이트에 시드 원본으로 사용할 수 있는 정상 상태의 활성 데이터베이스가 없습니다.</p></td>
<td><p>2일</p></td>
</tr>
<tr class="odd">
<td><p>디스크가 포맷되지 않았거나, 포맷되었지만 비어 있거나, 포맷되었지만 24시간 동안 건드리지 않은 파일을 포함하며 로컬 Active Directory 사이트에 시드 원본으로 사용할 수 있는 정상 상태의 활성 데이터베이스가 있지만 데이터베이스 파일(EDB 파일) 및 로그 파일 외에 알 수 없는 파일이 있습니다.</p></td>
<td><p>2주</p></td>
</tr>
<tr class="even">
<td><p>디스크가 포맷되지 않았거나, 포맷되었지만 비어 있거나, 포맷되었지만 24시간 동안 건드리지 않은 파일을 포함하며 로컬 Active Directory 사이트에 시드 원본으로 사용할 수 있는 정상 상태의 활성 데이터베이스가 있지만 Active Directory에 없는 데이터베이스에 대한 하나 이상의 데이터베이스 파일(EDB 파일)이 있습니다.</p></td>
<td><p>2주</p></td>
</tr>
</tbody>
</table>

