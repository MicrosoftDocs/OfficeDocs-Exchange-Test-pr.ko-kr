---
title: '하이브리드 마이그레이션의 성능 요인 및 모범 사례: Exchange 2013 Help'
TOCTitle: 하이브리드 마이그레이션의 성능 요인 및 모범 사례
ms:assetid: 120a7832-d2d3-47d7-b305-918360c2ef66
ms:mtpsurl: https://technet.microsoft.com/ko-kr/library/Mt483789(v=EXCHG.150)
ms:contentKeyID: 70118014
ms.date: 01/10/2018
mtps_version: v=EXCHG.150
ms.translationtype: HT
---

# 하이브리드 마이그레이션의 성능 요인 및 모범 사례


_<strong>적용 대상:</strong>Exchange Server 2016_

_<strong>마지막으로 수정된 항목:</strong>2016-12-09_

온-프레미스 전자 메일 조직에서 Office 365로 데이터를 마이그레이션하는 경로에는 여러 가지가 있습니다. Office 365로의 마이그레이션을 계획할 때 일반적으로 묻는 질문은 데이터 마이그레이션의 성능을 어떻게 향상시키고 마이그레이션 속도를 최적화할 것인가에 대한 것입니다. 이 문서에서는 Exchange 하이브리드 배포의 마이그레이션 성능에 대해 살펴봅니다. 다른 마이그레이션 방법의 성능 정보를 보려면 [Office 365 마이그레이션 성능 및 모범 사례](http://go.microsoft.com/fwlink/p/?linkid=623651)를 참조하세요.

## 하이브리드 마이그레이션의 성능 요인 및 모범 사례

하이브리드 배포 마이그레이션을 통해 온-프레미스 Exchange 서버와 Office 365의 Exchange Online 간에 마이그레이션을 원활하게 수행할 수 있습니다.

하이브리드 배포 마이그레이션은 현재 사서함 데이터를 Office 365로 마이그레이션하는 가장 빠른 마이그레이션 방법입니다. 실제 고객 배포에서 최대 시간당 100GB의 처리량이 확인된 바 있습니다. 다음 표에는 기본 Office 365 하이브리드 마이그레이션 시나리오에 적용되는 요인 목록이 나와 있습니다.

온-프레미스 환경에 지리적으로 분산된 여러 사이트가 포함되어 있으면 지리적으로 가까운 마이그레이션 끝점을 만들어 마이그레이션 성능을 향상시킬 수 있습니다. 이러한 시나리오에서는 마이그레이션 중에 온-프레미스 네트워크를 사용하는 중앙 집중식 마이그레이션 끝점을 사용하지 않고 Microsoft 네트워크가 사용되기 때문입니다.

## 요인 1: 데이터 소스(Exchange Server)


<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>검사 목록</th>
<th>설명</th>
<th>모범 사례</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>시스템 성능</p></td>
<td><p>데이터 추출은 시스템 기능을 많이 사용하는 작업이므로 원본 시스템에는 더 나은 마이그레이션 성능을 제공하기에 충분한 CPU 시간, 메모리 등의 리소스가 있어야 합니다. 마이그레이션 수행 시 일반 최종 사용자 작업을 위해 원본 시스템이 대개 전체 용량에 근접하게 됩니다. 추가 마이그레이션 작업이 있는 경우 시스템 리소스 부족으로 인해 최종 사용자의 액세스가 느려질 수 있습니다.</p></td>
<td><p>파일럿 마이그레이션 테스트 중에 시스템 성능을 모니터링합니다. 시스템 사용량이 많은 경우에는 마이그레이션 속도가 느려지고 서비스 사용 가능성 문제가 발생할 수 있으므로 특정 시스템에 대해 적극적인 마이그레이션 일정을 사용하지 않는 것이 좋습니다. 가능한 경우에는 마이그레이션에 사용되지 않는 다른 서버로 작업과 사용자를 이동하여 시스템에 대한 로드를 줄이고, 하드웨어 리소스를 추가함으로써 원본 시스템 성능을 높이세요.</p>
<p>자세한 내용은 다음을 참조하세요.</p>
<ul>
<li><p><a href="http://go.microsoft.com/fwlink/?linkid=723566">Ask the Perf Guy: Sizing Exchange 2016 Deployments(Perf Guy에게 물어보기: Exchange 2016 배포 크기 조정)</a>을 참조하세요.</p></li>
<li><p><a href="https://technet.microsoft.com/ko-kr/library/jj150551(v=exchg.150)">서버 상태 및 성능</a></p></li>
<li><p><a href="http://technet.microsoft.com/ko-kr/library/dd351192.aspx">Exchange 2010 성능 이해</a></p></li>
</ul>
<p>사서함 서버와 데이터베이스가 여러 개인 온-프레미스 Exchange 조직에서 마이그레이션할 때는 여러 사서함 서버 및 데이터베이스로 균일하게 분산되는 마이그레이션 사용자 목록을 만드는 것이 좋습니다. 개별 서버 성능에 따라 이 목록을 미세 조정하여 처리량을 최대화할 수 있습니다.</p>
<p>예를 들어 서버 A에서 사용 가능한 리소스가 서버 B보다 50% 더 많은 경우에는 동일한 마이그레이션 일괄 처리에서 서버 A에 사용자를 50% 더 많이 배치하는 것이 적절합니다. 다른 원본 시스템에도 이와 비슷한 방법을 적용할 수 있습니다.</p>
<p>업무 시간 이후 또는 주말과 공휴일 등 서버에서 사용 가능한 리소스가 최대 수준일 때 마이그레이션을 수행하세요.</p></td>
</tr>
<tr class="even">
<td><p>백 엔드 작업</p></td>
<td><p>마이그레이션 시간 중에 실행되는 기타 백 엔드 작업입니다. 마이그레이션은 업무가 끝난 후에 수행하는 것이 가장 좋은데, 데이터 백업 등 온-프레미스 서버에서 실행되는 기타 유지 관리 작업과 마이그레이션이 충돌하는 경우가 흔하기 때문입니다.</p></td>
<td><p>마이그레이션 중에 실행될 수 있는 기타 시스템 작업을 검토하세요. 리소스를 많이 사용하는 다른 작업이 실행되고 있지 않을 때 데이터 마이그레이션을 수행하는 것이 좋습니다.</p>
<p><strong>참고</strong>   온-프레미스 Microsoft Exchange를 사용하는 고객의 경우 일반적으로 수행하는 백 엔드 작업은 백업 솔루션 및 <a href="http://technet.microsoft.com/ko-kr/library/aa996226(exchg.65).aspx">Exchange 저장소 유지 관리</a>입니다.</p></td>
</tr>
</tbody>
</table>


## 요인 2: 마이그레이션 서버

하이브리드 배포 마이그레이션은 클라우드에서 시작되는 데이터 끌어오기/밀어넣기 마이그레이션이며 Exchange 하이브리드 서버가 마이그레이션 서버 역할을 합니다. 그러나 이를 간과하고 확장성이 낮은 가상 컴퓨터를 하이브리드 서버로 사용하는 고객이 많습니다. 이 경우 마이그레이션 성능이 저하됩니다.

**모범 사례**

위에서 설명한 모범 사례를 적용하면서 다음과 같은 모범 사례를 테스트한 결과 실제 고객 마이그레이션에서 마이그레이션 성능이 향상되었습니다.

  - Exchange 하이브리드 서버로 가상 컴퓨터가 아닌 기능이 뛰어난 서버급 실제 컴퓨터를 사용합니다.

  - 고객의 네트워크 부하 분산 장치에 포함된 여러 하이브리드 서버를 사용합니다.

예를 들어 실제 고객 마이그레이션에서 다음 구성을 사용한 결과 시간당 30GB의 일정한 처리량을 달성할 수 있었습니다.

  - **네트워크**  인터넷에 대한 500MB 아웃바운드 파이프이며, 내부 네트워크는 1GB(10GB 파이버 백본)입니다.

  - **하드웨어**   클라이언트 액세스/허브(실제) 서버 2대의 사양은 다음과 같습니다.
    
      - CPU: Intel® Xeon® CPU E5520(각각 2.27GHz 및 2.26GHz인 2개 프로세서)
    
      - RAM: 24GB
    
      - 디스크: 8개(디스크당 146GB). RAID 5 구성 = 총 960GB의 원시 공간

  - **MRS 프록시**   동시성 100으로 구성되었습니다.

## 요인 3: 마이그레이션 엔진

하이브리드 배포 마이그레이션에서는 기본 Office 365 도구를 사용하며 Office 365 마이그레이션 서비스 제한이 적용될 수 있습니다.

**Exchange 2003 및 이후 버전의 Exchange**

Exchange 2003에서 마이그레이션하는 경우에는 최종 사용자 환경에서 중요한 차이점이 있습니다. 이후 버전의 Exchange와 달리 Exchange 2003 최종 사용자는 데이터를 마이그레이션하는 중에 사서함에 액세스할 수 없습니다. 따라서 Exchange 2003 고객에게는 보통 마이그레이션을 예약할 시간 및 마이그레이션에 소요되는 시간이 더 중요하며, 특히 사서함 크기가 크거나 네트워크 속도가 느려서 마이그레이션 성능이 낮은 경우에는 더욱 그러합니다.

또한 Exchange 2003 마이그레이션은 중단되기가 매우 쉽습니다. 일례로 실제 고객 마이그레이션에서 10GB 사서함을 마이그레이션하는 동안 사서함 마이그레이션이 50% 완료되었을 때 서비스 문제가 발생한 적이 있습니다. 이로 인해 데이터 마이그레이션을 처리 중이었던 Office 365 클라이언트 액세스 서버를 다시 시작하여 문제를 해결해야 했습니다. 이 경우 해당 사서함의 마이그레이션을 다시 시작해야 하므로, 고객이 10GB 데이터를 모두 다시 마이그레이션해야 했습니다. 마이그레이션이 중지된 지점에서 다시 시작할 수는 없습니다. 그러나 Exchange 2010 및 이후 버전의 Exchange에서는 중단된 마이그레이션을 다시 시작할 수 있습니다.

**모범 사례**

일부 고객은 중요하며 규모가 큰 Exchange 2003 사서함에 대해 2회 홉 마이그레이션을 수행합니다.

  - **첫 번째 홉**   Exchange 2003에서 Exchange 2010 이상 서버(보통 하이브리드 서버)로 사서함을 마이그레이션합니다. 첫 번째 홉은 오프라인 이동 작업이지만 보통 로컬 네트워크를 통해 수행되는 매우 빠른 마이그레이션입니다.

  - **두 번째 홉**   Exchange 2010 이상에서 Office 365로 사서함을 마이그레이션합니다.

두 번째 홉은 온라인 이동 작업이므로 향상된 사용자 환경과 내결함성이 제공됩니다. 이와 같은 2회 홉 방식을 사용하려면 임시 온-프레미스 사용자 사서함용 Exchange 라이선스가 필요합니다.

**MRS 프록시(사서함 복제 서비스 프록시)**

MRS 프록시는 Office 365 쪽에서 실행되는 Mailbox Replication Service에 대해 작동하는 온-프레미스 마이그레이션 기능입니다. 자세한 내용은 [이동 요청 이해](http://technet.microsoft.com/ko-kr/library/dd298174.aspx)를 참조하세요.

**모범 사례**

온-프레미스 Exchange 하이브리드 서버에 대해 최대 MRS 프록시 연결 수를 구성할 수 있습니다. 다음 Windows PowerShell 명령을 실행합니다.

    Set-WebServicesVirtualDirectory -Identity "EWS (Default Web Site)" -MRSMaxConnections <number between 0 and unlimited; default is 100>


> [!NOTE]
> 대부분의 고객 마이그레이션에서는 기본 MRSMaxConnections 값을 변경할 필요가 없습니다. 마이그레이션 로드로 인한 원본 서버의 과부하를 방지하려는 경우에는 고객이 연결 수를 줄일 수 있습니다. 이 설정은 MRSProxy 서버별로 적용됩니다. 즉, MRS 프록시 서버가 두 대이고 각 서버의 연결 수가 10으로 설정된 고객의 경우 총 MRS 프록시 연결 수는 20(2 x 10)개가 됩니다. 온-프레미스 Exchange 2010 조직에서 MRS 프록시 서비스를 구성하는 방법에 대한 자세한 내용은 <A href="http://technet.microsoft.com/ko-kr/library/ee732395.aspx">원격 클라이언트 액세스 서버에서 MRSProxy 서비스 시작</A>을 참조하세요.



## 요인 4: 네트워크

**확인 테스트**

Exchange 2010 이상을 실행하는 고객의 경우에는 여러 테스트 사서함 마이그레이션을 수행하여 하이브리드 마이그레이션에 대한 네트워크 성능을 테스트할 수 있습니다. 또는 -SuspendWhenReadyToComplete 옵션을 통해 실제 사용자 사서함을 마이그레이션하여 마이그레이션 성능을 파악할 수도 있습니다. 테스트가 완료되면 최종 사용자에게 영향을 주지 않도록 이동 요청을 제거하세요.

이동 요청에 대한 자세한 내용은 [New-MoveRequest](https://technet.microsoft.com/ko-kr/library/dd351123\(v=exchg.150\))를 참조하세요.

## 요인 5: Office 365 서비스

Office 365 리소스 상태 기반 제한은 Office 365 하이브리드 배포 마이그레이션을 사용한 마이그레이션에 영향을 줍니다. 자세한 내용은 위에 Office 365 리소스 상태 기반 제한 섹션을 참조하세요.

